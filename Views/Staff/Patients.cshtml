@{
    ViewData["Title"] = "Patient Records";
}

<div class="container-fluid">
    <!-- Header -->
    <div class="d-flex justify-content-start mb-2">
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#uploadDocumentModal">
            + Upload Document
        </button>
    </div>

    <div class="card shadow-sm border-0 mb-3">
        <div class="card-body">
            <!-- Search and Filter -->
            <form class="row g-2 align-items-end mb-3" method="get">
                <div class="col-md-4">
                    <label class="form-label">Search Patients</label>
                    <input type="text" class="form-control" placeholder="Enter name, ID, or document...">
                </div>
                <div class="col-md-3">
                    <label class="form-label">Document Type</label>
                    <select class="form-select">
                        <option value="">All Types</option>
                        <option>Medical Records</option>
                        <option>Lab Results</option>
                        <option>Prescriptions</option>
                        <option>Imaging</option>
                        <option>Insurance</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <button type="submit" class="btn btn-secondary me-2">Filter</button>
                    <button type="reset" class="btn btn-outline-secondary">Reset</button>
                </div>
            </form>

            <!-- Patient Records Table -->
            <div class="table-responsive">
                <table class="table table-striped table-hover align-middle mb-0">
                    <thead class="table-header-ocean">
                        <tr>
                            <th style="width: 22%;">Patient Name</th>
                            <th style="width: 12%;">Patient ID</th>
                            <th style="width: 20%;">Document</th>
                            <th style="width: 12%;">Type</th>
                            <th style="width: 18%;">Last Updated</th>
                            <th style="width: 16%;">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="fw-semibold">John Davis</div>
                            </td>
                            <td>P-2024-1847</td>
                            <td>Blood Test Results</td>
                            <td>Lab Results</td>
                            <td>Feb 12, 2024 at 2:30 PM</td>
                            <td>
                                <button class="btn btn-sm btn-outline-secondary me-1" data-bs-toggle="modal" data-bs-target="#viewDocumentModal">View</button>
                                <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#editDocumentModal">Edit</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="fw-semibold">Sarah Johnson</div>
                            </td>
                            <td>P-2024-1846</td>
                            <td>Annual Physical Report</td>
                            <td>Medical Record</td>
                            <td>Feb 12, 2024 at 1:45 PM</td>
                            <td>
                                <button class="btn btn-sm btn-outline-secondary me-1" data-bs-toggle="modal" data-bs-target="#viewDocumentModal">View</button>
                                <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#editDocumentModal">Edit</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="fw-semibold">Michael Williams</div>
                            </td>
                            <td>P-2024-1845</td>
                            <td>Prescription - Amoxicillin</td>
                            <td>Prescription</td>
                            <td>Feb 11, 2024 at 4:20 PM</td>
                            <td>
                                <button class="btn btn-sm btn-outline-secondary me-1" data-bs-toggle="modal" data-bs-target="#viewDocumentModal">View</button>
                                <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#editDocumentModal">Edit</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="fw-semibold">Emily Brown</div>
                            </td>
                            <td>P-2024-1844</td>
                            <td>Chest X-Ray - PA View</td>
                            <td>Imaging</td>
                            <td>Feb 11, 2024 at 11:15 AM</td>
                            <td>
                                <button class="btn btn-sm btn-outline-secondary me-1" data-bs-toggle="modal" data-bs-target="#viewDocumentModal">View</button>
                                <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#editDocumentModal">Edit</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="fw-semibold">Robert Martinez</div>
                            </td>
                            <td>P-2024-1843</td>
                            <td>Insurance Claim Form</td>
                            <td>Insurance</td>
                            <td>Feb 10, 2024 at 3:00 PM</td>
                            <td>
                                <button class="btn btn-sm btn-outline-secondary me-1" data-bs-toggle="modal" data-bs-target="#viewDocumentModal">View</button>
                                <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#editDocumentModal">Edit</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <nav class="mt-3">
                <ul class="pagination pagination-sm mb-0">
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1">Previous</a>
                    </li>
                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#">Next</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</div>

<!-- Upload Document Modal -->
<div class="modal fade" id="uploadDocumentModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Upload Patient Document</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label">Patient <span class="text-danger">*</span></label>
                        <select class="form-select" required>
                            <option value="">Select Patient...</option>
                            <option>John Davis (P-2024-1847)</option>
                            <option>Sarah Johnson (P-2024-1846)</option>
                            <option>Michael Williams (P-2024-1845)</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Document Type <span class="text-danger">*</span></label>
                        <select class="form-select" required>
                            <option value="">Select Type...</option>
                            <option>Medical Record</option>
                            <option>Lab Results</option>
                            <option>Prescription</option>
                            <option>Imaging</option>
                            <option>Insurance</option>
                            <option>Other</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Description</label>
                        <textarea class="form-control" rows="2"></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Upload File <span class="text-danger">*</span></label>
                        <input type="file" class="form-control" accept=".pdf,.jpg,.jpeg,.png,.docx">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Upload</button>
            </div>
        </div>
    </div>
</div>

<!-- View Document Modal -->
<div class="modal fade" id="viewDocumentModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Document Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-8">
                        <div class="border rounded bg-light p-4 text-center" style="min-height: 400px;">
                            <p class="text-muted">Document Preview</p>
                            <small class="text-muted">PDF Viewer would load here</small>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <h6 class="fw-semibold mb-3">Document Info</h6>
                        <div class="mb-2">
                            <small class="text-muted d-block">Patient</small>
                            <div class="fw-semibold">John Davis</div>
                            <small class="text-muted">P-2024-1847</small>
                        </div>
                        <div class="mb-2">
                            <small class="text-muted d-block">Type</small>
                            <div>Lab Results</div>
                        </div>
                        <div class="mb-2">
                            <small class="text-muted d-block">Size</small>
                            <div>2.4 MB</div>
                        </div>
                        <div class="mb-2">
                            <small class="text-muted d-block">Created</small>
                            <div>Feb 12, 2024</div>
                        </div>
                        <div class="mb-0">
                            <small class="text-muted d-block">Status</small>
                            <div><span class="badge bg-success">Active</span></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Download</button>
            </div>
        </div>
    </div>
</div>

<!-- Edit Document Modal -->
<div class="modal fade" id="editDocumentModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Edit Document</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label">Document Name</label>
                        <input type="text" class="form-control" value="Blood Test Results">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Description</label>
                        <textarea class="form-control" rows="3">Complete Blood Count performed on Feb 12, 2024</textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Status</label>
                        <select class="form-select">
                            <option value="active" selected>Active</option>
                            <option value="pending">Pending Review</option>
                            <option value="archived">Archive</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Save Changes</button>
            </div>
        </div>
    </div>
</div>
